{% extends 'base.html' %}
{% block content %}
{% load static %}
{% load custom_calculations %}

<title>{{product.name}} - FC Bayern</title>
<style>
    input::-webkit-outer-spin-button,
    input::-webkit-inner-spin-button {
      display: none;
    }
  </style>

<div class="site-content " id="content">
    <div class="container">
        <div class="row">

            <div id="primary" class="content-area col-lg-12">
                <main id="main" class="site-main">

                    <!--div class="woocommerce-notices-wrapper">
                        <div class="woocommerce-message" role="alert">
                            <a href="http://alchemists-wp.dan-fisher.com/soccer-dark/cart/" tabindex="1"
                                class="button wc-forward">View cart</a> &ldquo;Sundown Sneakers&rdquo; has been
                            added to your cart.
                        </div>
                    <div-->

                    
                    <div class="woocommerce-notices-wrapper"></div>
                    <div id="product-1062"
                        class="products list products--list-lg product type-product post-1062 status-publish first instock product_cat-sneakers has-post-thumbnail shipping-taxable purchasable product-type-simple">
                        <div class="product__item card">

                            <div class="product__img">


                                <div class="product__img-holder">

                                    <div class="woocommerce-product-gallery woocommerce-product-gallery--with-images woocommerce-product-gallery--columns-4 images"
                                        data-columns="4"
                                        style="opacity: 0; transition: opacity .25s ease-in-out;">
                                        <figure class="product__slider">

                                            {% for image in product.merchandise_image_set.all %}
                                            <div data-thumb="/media/{{image.image_url}}" class="product__slide">
                                                <div class="product__slide-img"><img src="/media/{{image.image_url}}" style="max-height: 400px;max-width: 365px"
                                                    class="attachment-shop_single size-shop_single wp-post-image"></div>
                                            </div>
                                            {% endfor %}

                                        </figure>
                                    </div>

                                </div>
                            </div>

                            <div class="product__content card__content">

                                <header class="product__header">
                                    <div class="product__header-inner"><span class="product__category">{{product.category.name}}</span>
                                        <h1 class="product__title">{{product.name}}</h1>
                                    </div>
                                </header>
                                <div class="product__excerpt">
                                    <div class="product__price">
                                        <span class="woocommerce-Price-amount amount">
                                            <span class="woocommerce-Price-currencySymbol">&euro; </span>{% discounted_price product.price product.discount %}
                                            &nbsp;<del>{{product.price}}</del></span>
                                    </div>
                                </div>
                                

                                <form class="cart" method="post">
                                    {% csrf_token %}

                                    {% if product.category.unique_player == True %}
                                    <label for="kit_select">Kit Select<abbr class="required" title="required">*</abbr></label>
                                    <span class="woocommerce-input-wrapper">
                                        <select name="kit_select" id="kit_select"
                                            data-placeholder="Select Kit No & Name&hellip;" style="width: 60%;margin: 0 12%">

                                            <option value="">Select Kit No & Name&hellip;</option>
                                            {% for player in all_players %}
                                            <option style="color:black" value="{{ player.id }}">{{ player.kit_no }}. {{ player.name }}</option>
                                            {% endfor %}

                                        </select>
                                    </span>
                                    <div class="vc_empty_space" style="height: 20px"></div>
                                    {% endif %}

                                    {% if product.category.size_option == True %}
                                    <label for="size_select">Select Size<abbr class="required" title="required">*</abbr></label>
                                    <span class="woocommerce-input-wrapper">
                                        <select name="size_select" id="size_select" 
                                            data-placeholder="Select size&hellip;" style="width: 60%;margin: 0 10.5%">

                                            <option value="">Select size&hellip;</option>
                                            {% for cur_size in product.category.merchandise_size_set.all %}
                                            <option style="color:black" value="{{ cur_size.id }}">{{ cur_size.size }}</option>
                                            {% endfor %}

                                        </select>
                                    </span>
                                    <div class="vc_empty_space" style="height: 20px"></div>
                                    {% endif %}
                                    

                                     <div class="quantity">
                                        <label for="quantity_cart">Quantity</label>
                                        <input type="number" id="quantity_cart"
                                            class="input-text qty text" step="1" min="1" max="" name="quantity"
                                                value="1" title="Qty" size="4" placeholder="" inputmode="numeric"
                                                autocomplete="off" style="width: 37%;margin-left: 14.5%;position: relative;
                                                text-align: center;"/>
                                        <div style="margin: -8% 26.7%;width: 37%">
                                            <div class="qtybutton" id="quantity_decr" style="margin: -18% 11%">-</div>
                                            <div class="qtybutton" id="quantity_incr" style="margin: -6.7% 74%">+</div>
                                        </div>
                                    </div>


                                    <div class="vc_empty_space" style="height: 60px"></div>


                                    <button type="submit" name="add-to-cart" value="1062" class="single_add_to_cart_button btn btn-lg btn-primary" 
                                        style="margin: 2% auto">Add to cart</button>

                                </form>


                            </div><!-- .product__content -->

                        </div>
                    </div><!-- #product-1062 -->




                    <div class="product-tabs card card--xlg">
                        <ul class="nav nav-tabs nav-justified nav-product-tabs" role="tablist">
                            <li class="nav-item">
                                <a href="#tab-description" class="nav-link active" role="tab"
                                    data-toggle="tab">Description</a>
                            </li>
                            <li class="nav-item">
                                <a href="#tab-additional_information" class="nav-link " role="tab"
                                    data-toggle="tab">Additional information</a>
                            </li>

                        </ul>
                        <div class="tab-content card__content">

                            <div class="woocommerce-Tabs-panel woocommerce-Tabs-panel--description tab-pane fade show active"
                                id="tab-description" role="tabpanel">

                                {{ product.product_information|safe }}

                            </div>

                            <div class="woocommerce-Tabs-panel woocommerce-Tabs-panel--additional_information tab-pane fade "
                                id="tab-additional_information" role="tabpanel">

                                <table class="woocommerce-product-attributes shop_attributes">
                                    
                                    {% for info in product.merchandise_information_set.all %}
                                    <tr class="woocommerce-product-attributes-item woocommerce-product-attributes-item--attribute_pa_size">
                                        <th class="woocommerce-product-attributes-item__label">{{ info.specification }}</th>
                                        <td class="woocommerce-product-attributes-item__value"><p>{{ info.detail }}</p></td>
                                    </tr>
                                    {% endfor %}

                                </table>
                            </div>

                        </div>

                    </div>

                    {% if product.related_products.count > 0 %}
                    <section class="related products">

                        <div class="card card--clean">
                            <header class="card__header">
                                <h4>Related products</h4>
                            </header>

                            <div class="card__content">

                                <ul class="products grid products--grid-4">

                                    {% for rel_product in product.related_products.all %}
                                    <li class="product__item card product type-product status-publish has-post-thumbnail shipping-taxable product-type-simple woocommerce">

                                        {% if rel_product.discount > 0 %}
                                        <span class="onsale"><span class="onsale__inner">&nbsp;-{{rel_product.discount}}% </span></span>
                                        {% endif %}

                                        <div class="product__img" style="padding-top: 0">

                                            <div class="product__img-holder" style="display: flex;align-items: center;height: 300px">

                                            <a href="{% url 'product' rel_product.slug %}"
                                                class="woocommerce-LoopProduct-link woocommerce-loop-product__link">
                                                <img style="margin: auto;display: block;width: 100%;padding: 1% 1% 1% 4%;max-height: 300px;"
                                                    src="/media/{{rel_product.featured_image}}"
                                                    class="attachment-woocommerce_thumbnail size-woocommerce_thumbnail"></a>
                                            </div>
                                        </div>

                                        <div class="product__content card__content">

                                        <header class="product__header">
                                            <footer>
                                            <div class="product__header-inner">
                                                <span class="product__category">{{rel_product.category.name}}</span>
                                                <h2 class="product__title">
                                                    <a href="{% url 'product' rel_product.slug %}">{{rel_product.name|truncatechars:35}}</a></h2>
                                            </div>

                                            <div class="product__price">
                                                {% if rel_product.discount > 0 %}
                                                <del aria-hidden="true">
                                                <span class="woocommerce-Price-amount amount">
                                                    <span class="woocommerce-Price-currencySymbol">&euro;</span>
                                                    {{rel_product.price}}
                                                </span></del>
                                                {% endif %}
                                                <ins>
                                                    <span class="woocommerce-Price-amount amount">
                                                        <span class="woocommerce-Price-currencySymbol">&euro;</span>
                                                        {% discounted_price rel_product.price rel_product.discount %}
                                                    </span>
                                                </ins>
                                            </div>
                                            </footer>
                                        </header>


                                        </div>
                                    </li>
                                    {% endfor %}



                                </ul>

                            </div>
                        </div>

                    </section>
                    {% endif %}
                    
                </main><!-- #main -->
            </div><!-- #primary -->


        </div>
    </div>
</div>


    <script id='wc-single-product-js-extra'>
        var wc_single_product_params = { "i18n_required_rating_text": "Please select a rating", "review_rating_required": "yes", "flexslider": { "rtl": false, "animation": "slide", "smoothHeight": true, "directionNav": false, "controlNav": "thumbnails", "slideshow": false, "animationSpeed": 500, "animationLoop": false, "allowOneSlide": false }, "zoom_enabled": "", "zoom_options": [], "photoswipe_enabled": "", "photoswipe_options": { "shareEl": false, "closeOnScroll": false, "history": false, "hideAnimationDuration": 0, "showAnimationDuration": 0 }, "flexslider_enabled": "" };
    </script>
    <script
        src='http://alchemists-wp.dan-fisher.com/soccer-dark/wp-content/plugins/woocommerce/assets/js/frontend/single-product.min.js?ver=6.3.1'
        id='wc-single-product-js'></script>

<script>

const qty_input = document.getElementById("quantity_cart");
const qty_decr = document.getElementById("quantity_decr");
const qty_incr = document.getElementById("quantity_incr");
        
qty_decr.addEventListener('click', function (event){
    var qty = parseInt(qty_input.value);
    if(qty > 1){
        qty_input.value = qty - 1;
    }
});
    
qty_incr.addEventListener('click', function (event){
    var qty = parseInt(qty_input.value);
    qty_input.value = qty + 1;
});
    
</script>

{% endblock %}